@import "../../common/style/mixin.styl"
@import "../../common/style/variables.styl"

// 定义 或 重载 变量
$search-grey = $font-grey  // 灰色
$search-box-height = $header-height  // 头部高度
$search-page-padding = $page-padding  // 页面左右内边距
$search-blue = $app-blue  // 页面的蓝色
$search-head-bg = $bar-white // 头部背景颜色

.p-search-bar
  posf-full()
  z-index $p-search-bar-z
  overflow hidden
  .search-box
    posf-top-full()
    height $search-box-height
    box-sizing border-box
    padding 0 $search-page-padding
    background-color $search-head-bg
    z-index 100
    display flex
    .icon-left-arrow
      height 100%
      display inline-block
      width px(70)
      line-height $search-box-height
      text-align center
      font-size px(36)
      color #3388ff
    .search-text
      flex 1
      height 100%
      font-size px(32)
      padding-right px(20)
    .search-btn
      height 100%
      width px(80)
      font-size px(28)
      color $search-blue
      background-color transparent

  .search-wrapper
    position fixed
    left 0
    right 0
    top $search-box-height
    bottom 0
    background-color $layer-black-8
    z-index 90
    .search-cont

      .search-prompt
        width 100%
        max-height px(92) * 4
        overflow hidden
        box-sizing border-box
        padding-bottom px(12)
        margin-bottom px(20)
        background-color #fff
        .search-prompt-item
          width 100%
          height px(92)
          padding 0 $search-page-padding
          box-sizing border-box
          display flex
          align-items center
          font-size px(36)
          color #999
          .search-prompt-index
            color #fff
            font-size px(28)
            height px(44)
            line-height px(44)
            padding 0 px(16)
            margin-right px(20)
            box-sizing border-box
            background-color #38f
            border-radius px(24)
          .search-prompt-bar
            font-size px(32)
            line-height 1.4
            width px(160)
            overflow hidden
            text-overflow ellipsis
            white-space nowrap
          .search-prompt-text
            font-size px(26)
            width px(440)
            overflow hidden
            text-overflow ellipsis
            white-space nowrap

      .search-history
        bottom-1px()
        width 100%
        box-sizing border-box
        padding-bottom px(12)
        background-color #fff
        .search-history__title
          width 100%
          height px(66)
          line-height px(66)
          font-size px(26)
          padding 0 $search-page-padding
          color $search-grey
          display flex
          box-sizing border-box
          bottom-1px()
          .search-history-title-text
            flex 1
          .search-history-num
            height px(50)
            line-height px(50)
            color #fff
            padding 0 px(50)
            margin-top px(8)
            border-radius px(6)
            background-color #38f
        .search-history__items
          bottom-1px()
          width 100%
          max-height px(92) * 3
          overflow hidden
          .search-history__item
            width 100%
            height px(92)
            padding 0 $search-page-padding
            box-sizing border-box
            display flex
            align-items center
            font-size px(36)
            color #999
            .search-history__item-index
              color #fff
              font-size px(28)
              height px(44)
              line-height px(44)
              padding 0 px(16)
              margin-right px(20)
              box-sizing border-box
              background-color #38f
              border-radius px(24)
            .search-history__item-text
              width px(600)
              text-overflow ellipsis
              white-space nowrap
            .icon-close
              flex 1
        .clear-search-history
          width 100%
          height px(110)
          text-align center
          line-height px(110)
          font-size px(32)
          background-color #fff
          color $search-blue

  .result-wrapper
    position fixed
    left 0
    right 0
    top $search-box-height
    bottom px(-2)
    z-index 80
    .result-cont
      .result-item
        font-size px(28)
        line-height 1.4
        width 100%
        padding px(40) $search-page-padding
        box-sizing border-box
        background-color #fff
        .bar-icon
          width px(80)
          height px(100)
          margin-right px(30)
          border-radius px(6)
          font-size 0
          img
            margin px(8)
            width px(64)
            height px(64)
        .bar-info
          flex 1
          .bar-name
            font-size px(36)
            width px(400)
            text-overflow ellipsis
            white-space nowrap
          .bar-createDate
            float right
          .bar-desc
            white-space pre-wrap
          .bar-focusNum
          .bar-postNum
            display inline-block
            width 50%
          .bar-admin
            .bar-admin-item
              width px(280)
              display flex
              align-items center
              margin-right px(10)
              background-color #f4f4f4
              .bar-admin-avatar
                width px(60)
                height px(60)
              .bar-admin-nickname
                margin-left px(10)
                line-height px(60)
          .add-bar
            margin-top px(20)
            padding px(20) px(40)

  .create-bar
    margin-top $search-box-height
    display flex
    justify-content center
    align-items center
    flex-flow column nowrap
    line-height 1.6
    .create-bar-name
      font-size px(56)
      margin px(80) 0 px(50)
      color #999
    .create-bar-desc
      font-size px(28)
    .create-bar-btn
      margin-top px(50)
      padding px(20) px(50)
      color #fff
      background-color #3388ff
      border-radius px(4)
